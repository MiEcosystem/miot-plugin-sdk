'use strict';require('graceful-fs').gracefulify(require('fs')),require('react-native/local-cli/server/checkNodeVersion')(),require('react-native/setupBabel')();var e=require('path'),r=(require("fs"),require("./config/common")),t=r.project_dir,o=r.API_LEVEL,s=r.SUPPORTED_ASSET_FILE_TYPES,i=(r.IDX_MOD,r.DEV),n=i;i&&process.argv.length>2&&"--test"==process.argv[2]&&(n=!1,console.log("run as real sdk for github"));var a=n||process.argv.includes("--reset-cache")||process.argv.includes("-r"),c=e.join(t,"miot-sdk","native");if(!n){var l=require("metro-resolver");l._miot_resolve=l.resolve,l.resolve=function(r,t,o){return r._miot_dirExists||(r._miot_dirExists=r.dirExists,r.dirExists=function(e){return!!e.startsWith(c)||r._miot_dirExists(e)},r._miot_doesFileExist=r.doesFileExist,r.doesFileExist=function(t){if(t.startsWith(c)){var o=e.relative(c,t);return!(o.indexOf(".")!=o.lastIndexOf(".")||!o.endsWith(".js")||o.startsWith("android.")||o.startsWith("ios.")||o.startsWith("common."))}return r._miot_doesFileExist(t)}),l._miot_resolve(r,t,o)}}var u=require("metro/src/node-haste/DependencyGraph");u._miot_load=u.load,u.load=function(e){return u._miot_load(e).then(function(e){if(!n){var r=e._moduleCache;r._miot_getModule=r.getModule,r.getModule=function(e){var t=r._miot_getModule(e);return null==t._sourceCode&&e.startsWith(c)&&(t._sourceCode=""),t}}return console.log('ready'),console.log('\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502                                                                              \u2502\n    \u2502  MIOT SDK API_LEVEL is '+o+'                                                 \u2502\n    \u2502  please open the MIJIA App for debug from your mobile                        \u2502\n    \u2502  connect your device and setup then start to debug your plugin projects      \u2502\n    \u2502                                                                              \u2502\n    \u2502  https://github.com/MiEcosystem/miot-plugin-sdk                              \u2502\n    \u2502                                                                              \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518'),e})};var d=require('react-native/local-cli/util/Config').DEFAULT,g=(d.getAssetExts()||[]).concat(s);function v(e){for(var r=process.argv,t=0;t<r.length;t++)if(e==r[t]){if(++t==r.length)return!1;var o=r[t];return!!(o&&o.length>0)&&('-'==o.charAt(0)?null:o)}return!1}d.getAssetExts=function(){return g},d.getTransformModulePath=function(){return e.join(t,"bin","config",n?"transformerForBuild.js":"transformer.js")};var f=v("--host")||v("-h"),p=v("--port")||v("-p");process.argv=["","","start"],a&&(process.argv=[].concat(babelHelpers.toConsumableArray(process.argv),["--reset-cache"])),f&&(process.argv=[].concat(babelHelpers.toConsumableArray(process.argv),["--host",f])),p&&(process.argv=[].concat(babelHelpers.toConsumableArray(process.argv),["--port",p])),require('react-native/local-cli/cliEntry').run();